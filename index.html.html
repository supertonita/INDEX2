<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MINI SUPER TO칌ITA</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">

<style>
/* ========================= ESTILOS BASE (fondo blanco) ========================= */
:root {
  --green: #25d366;
  --muted: #efefef;
  --accent: #007bff;
}

* {
  box-sizing: border-box;
  font-family: 'Montserrat', sans-serif;
}

body {
  margin: 0;
  padding: 0;
  background: #fff;
  color: #111;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Banner */
.banner {
  width: 100%;
  display:flex;
  justify-content:center;
  margin:10px 0;
}

.banner-img {
  width: 50%;
  max-width: 800px;
  border-radius: 12px;
  object-fit: cover;
  box-shadow: 0 4px 12px rgba(0,0,0,0.12);
}

/* Controls (sucursal, entrega, buscador) */
.controls {
  max-width:1200px;
  margin: 6px auto;
  padding: 8px;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:center;
  flex-wrap:wrap;
}

.controls > div {
  display:flex;
  gap:6px;
  align-items:center;
}

.controls label {
  font-weight:500;
}

select, input[type="text"] {
  padding:8px 10px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:14px;
}

/* Info domicilio (oculto por defecto) */
#info-domicilio {
  display:none;
  text-align:center;
  margin: 8px auto;
  max-width:360px;
}

#info-domicilio input {
  width:90%;
  padding:8px;
  margin:6px auto;
  border-radius:8px;
  border:1px solid #ccc;
  display:block;
}

/* Bot칩n categor칤as */
.categories-btn {
  position: absolute;
  top: 18px;
  left: 18px;
  z-index: 10010;
  background:#fff;
  border:1px solid #9f9f9f;
  border-radius:60px;
  padding:10px 18px;
  cursor:pointer;
  box-shadow:0 2px 6px rgba(0,0,0,0.12);
  font-size:13px;
}

.categories-btn:hover {
  background: #f3f3f3;
}

/* Lista de categorias (panel) */
.category-list {
  position: fixed;
  top: 64px;
  left: 18px;
  z-index: 10005;
  display:none;
  flex-direction: column;
  gap:8px;
  background:#fff;
  padding:10px;
  border-radius:10px;
  box-shadow:0 8px 26px rgba(0,0,0,0.12);
  max-height: 60vh;
  overflow:auto;
  min-width:180px;
}

.category-btn {
  background:#fff;
  border:1px solid #ddd;
  padding:8px 12px;
  border-radius:30px;
  cursor:pointer;
  font-size:13px;
  text-align:left;
}

.category-btn:hover {
  background:#f7f7f7;
}

.category-btn.active {
  background: var(--green);
  color:#fff;
  border-color: #1aa64a;
}

/* Productos grid */
.products {
  display:flex;
  flex-wrap:wrap;
  gap:18px;
  justify-content:center;
  align-items:flex-start;
  margin: 18px auto 100px;
  max-width:1200px;
  padding:12px;
}

.product {
  background: var(--muted);
  width:225px;
  border-radius:10px;
  padding:10px;
  box-shadow:0 2px 8px rgba(0,0,0,0.06);
  text-align:center;
}

.product img {
  width:100%;
  height:auto;
  max-height:150px;
  object-fit:contain;
  border-radius:8px;
}

.product h4 {
  margin:8px 0 6px;
  font-size:15px;
  line-height:1.1;
}

.product p {
  margin:0 0 8px;
  font-weight:700;
  color:#333;
}

.qty-control {
  display:flex;
  justify-content:center;
  align-items:center;
  gap:8px;
  margin-top:8px;
}

.qty-control button {
  padding:8px 10px;
  border:none;
  border-radius:6px;
  background:#9b9f9c;
  color:#fff;
  cursor:pointer;
  font-size:15px;
}

.qty-control button:hover {
  background:#1e7e34;
}

.qty-control span {
  display:inline-block;
  width:36px;
  background:#fff;
  border-radius:6px;
  padding:6px 0;
  font-weight:700;
  text-align:center;
}

/* Top/right panel: cart + send */
.top-panel {
  position: fixed;
  top: 12px;
  right: 12px;
  display:flex;
  align-items:center;
  gap:10px;
  z-index:10000;
  background:transparent;
}

.cart {
  background:#fff;
  padding:8px 12px;
  border-radius:45px;
  box-shadow:0 2px 6px rgba(0,0,0,0.12);
  display:flex;
  gap:8px;
  align-items:center;
}

#cart-count {
  background:red;
  color:#fff;
  border-radius:50%;
  padding:5px 8px;
  font-weight:700;
  font-size:13px;
}

#cart-total {
  font-weight:700;
  color:#333;
  font-size:13px;
}

#whatsapp-btn {
  background:var(--green);
  color:#fff;
  border:none;
  padding:12px 14px;
  border-radius:40px;
  cursor:pointer;
  font-weight:700;
  box-shadow:0 2px 6px rgba(0,0,0,0.12);
}

/* Modal */
.modal-backdrop {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.45);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:20000;
}

.modal-backdrop.show {
  display:flex;
}

.modal {
  width:92%;
  max-width:640px;
  background:#fff;
  border-radius:12px;
  padding:18px;
  box-shadow:0 10px 30px rgba(0,0,0,0.25);
  transform:translateY(8px);
  opacity:0;
  transition:opacity .22s ease, transform .22s ease;
}

.modal.show {
  opacity:1;
  transform:translateY(0);
}

.modal h3 {
  margin:0 0 8px;
  color:#666;
}

.modal .line {
  display:flex;
  justify-content:space-between;
  padding:8px 0;
  border-bottom:1px solid #eee;
}

.modal .footer {
  display:flex;
  justify-content:flex-end;
  gap:10px;
  margin-top:12px;
}

.btn-ghost {
  background:#efefef;
  border:none;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
}

.btn-green {
  background:var(--green);
  color:#fff;
  border:none;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
}

/* Toast */
.toast {
  position: fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:18px;
  background:rgba(0,0,0,0.86);
  color:#fff;
  padding:8px 12px;
  border-radius:8px;
  z-index:30000;
}

/* Small adjustments */
@media (max-width: 1024px) {
  .banner-img {
    width: 70%;
  }
}

/* ========================= RESPONSIVE (celular primero) ========================= */
@media (max-width: 768px) {
  .banner-img { width: 90%; }

  .category-list {
    left: 12px;
    top: 62px;
    min-width: 160px;
    max-height: 55vh;
  }

  .products { gap: 12px; padding: 8px; }
  .product { width: 48%; }
  .qty-control button { padding: 8px 8px; }

  .categories-btn {
    left: 12px;
    top: 12px;
    padding: 8px 14px;
  }

  #buscador { min-width: 180px; }

  .top-panel {
    right: 8px;
    top: 8px;
    gap:8px;
  }
}

@media (max-width: 480px) {
  .banner-img {
    width: 100%;
    border-radius:10px;
  }

  .controls {
    flex-direction: column;
    gap:8px;
    padding:10px;
  }

  .product { width: 100%; }
  .product img { max-height: 180px; }

  .qty-control button {
    padding: 10px 12px;
    font-size:16px;
  }

  .qty-control span { width:44px; }

  .category-list {
    position: fixed;
    top:60px;
    left: 12px;
    right: 12px;
    display:flex;
    flex-direction:row;
    overflow-x:auto;
    gap:8px;
    padding:10px;
    background: #fff;
    border-radius:8px;
    z-index: 9999;
  }

  .category-btn {
    flex:0 0 auto;
    white-space:nowrap;
  }

  .modal {
    width: 96%;
    max-width:420px;
    padding:14px;
  }

  #whatsapp-btn {
    padding:12px;
    font-size:15px;
  }

  .top-panel {
    position: fixed;
    bottom: 8px;
    left: 8px;
    right: 8px;
    justify-content:space-between;
    background: #fff;
    padding: 10px;
    border-radius: 12px;
    box-shadow:0 6px 18px rgba(0,0,0,0.08);
  }

  .cart { padding:8px 10px; }
}

@media (hover: none) and (pointer: coarse) {
  .category-btn,
  .categories-btn,
  .qty-control button,
  #whatsapp-btn {
    -webkit-tap-highlight-color: rgba(0,0,0,0.05);
  }
}
</style>
</head>

<body>

<!-- Banner original -->
<div class="banner">
  <img src="BIENVENIDO.png" alt="Banner Mini Super To침ita" class="banner-img">
</div>

<!-- Controles: sucursal, tipo de entrega y buscador -->
<div class="controls" role="region" aria-label="Controles">
  <div>
    <label for="sucursal">Sucursal:</label>
    <select id="sucursal" aria-label="Seleccionar sucursal">
      <option value="Los Fuentes-Corinto">Los Fuentes-Corinto</option>
      <option value="Corinto-Centro">Corinto-Centro</option>
      <option value="Metap치n-Santa Ana">Metap치n-Santa Ana</option>
    </select>
  </div>

  <div class="entrega-box">
    <label for="tipoEntrega">Tipo entrega:</label>
    <select id="tipoEntrega" aria-label="Tipo de entrega">
      <option value="Recoger en tienda">Recoger en tienda</option>
      <option value="Domicilio">Domicilio</option>
    </select>
  </div>

  <input type="text" id="buscador" placeholder="Buscar productos..." aria-label="Buscar productos">
</div>

<!-- Info domicilio (oculta) -->
<div id="info-domicilio" aria-hidden="true">
  <input id="cliente-nombre" type="text" placeholder="Nombre completo" aria-label="Nombre completo">
  <input id="cliente-direccion" type="text" placeholder="Direcci칩n exacta / referencia" aria-label="Direcci칩n">
  <input id="cliente-telefono" type="text" placeholder="Tel칠fono (ej. 7XXXXXXXX)" aria-label="Tel칠fono">
</div>

<!-- Bot칩n categorias -->
<button class="categories-btn" id="btn-categorias" aria-expanded="false" aria-controls="categories-container">
  CATEGOR칈AS
</button>

<!-- Contenedor categorias (panel o scroller seg칰n tama침o) -->
<div id="categories-container" class="category-list" aria-hidden="true"></div>

<!-- Productos -->
<div id="products-container" class="products" role="list" aria-live="polite"></div>

<!-- Panel superior: carrito + enviar -->
<div class="top-panel" role="status" aria-label="Panel superior">
  <div class="cart">
    <span>游</span>
    <span id="cart-count">0</span>
    <span id="cart-total">$0.00</span>
  </div>
  <button id="whatsapp-btn">Enviar pedido</button>
</div>

<!-- Modal -->
<div class="modal-backdrop" id="modal-backdrop" aria-hidden="true">
  <div class="modal" id="modal-card" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <h3 id="modal-title">Confirmar pedido</h3>
    <div id="modal-content" style="max-height:320px; overflow:auto; margin-top:8px;"></div>

    <div class="footer">
      <button class="btn-ghost" id="modal-back">Volver</button>
      <button class="btn-green" id="modal-send">Enviar por WhatsApp</button>
    </div>
  </div>
</div>

<script>
/* ========================= JS: datos, UI y comportamiento ========================= */
document.addEventListener('DOMContentLoaded', () => {
  /* === Datos (productos y sucursales) === */
  const STORES = {
 "Los Fuentes-Corinto": {
      "CANASTAS NAVIDE칌AS":[
        {id:'c1', name:'Canasta B치sica', price:12.00, img:'img/canasta1.png',imag2:'imag/lista1.png'},
        {id:'c2', name:'Canasta B치sica plus', price:15.00, img:'img/canasta1.png'},
        {id:'c3', name:'Canasta Gold', price:20.00, img:'img/canasta2.png'},
        {id:'c4', name:'Canasta Premium', price:25.00, img:'img/canasta3.png'},
        {id:'c5', name:'Canasta Select', price:30.00, img:'img/canasta1.png'},
        {id:'c6', name:'Canasta Deluxe', price:35.00, img:'img/canasta2.png'},
      ],
      
       "HUACALES":[
        {id:'H1', name:'Huacal #5(peque침o)', price:0.90, img:'img/..png'},
        {id:'h2', name:'Huacal #6(mediano)', price:1.25, img:'img/..png'},
        {id:'h3', name:'Huacal #7(grande)', price:1.75, img:'img/..png'},
       ],


      "PROMOCIONES":[
        {id:'p1', name:'Combo Arroz + Frijoles', price:5.50, img:'img/combo1.png'}
              ],
     

      "ABARROTES":[
        {id:'a1', name:'Arroz san Pedro 4lb', price:3.50, img:'img/Arroz3.png'},
        {id:'a2', name:'Arroz san Pedro 1lb', price:0.85, img:'img/Arrozb1l.png'},
        {id:'a3', name:'Arroz san Pedro prec. 4lb', price:3.75, img:'img/preco4l.png'},
        {id:'a4', name:'Arroz san Pedro prec. 1lb', price:0.90, img:'img/preco1l.png'},
        {id:'a5', name:'Aceite mazola 700ml', price:2.25, img:'img/aceite.png'},
        {id:'a6', name:'Orisol Lihgt 700ml', price:2.50, img:'img/orisolliht.png'},
        {id:'a7', name:'Aceite Ideal Galon', price:10.50, img:'img/idealgalon.png'},
        {id:'a8', name:'Aceite Ideal 1/2 Galon', price:4.75, img:'img/idealmedio.png'},
        {id:'a9', name:'Aceite mazola Galon', price:13.50, img:'img/mazolagalon.png'},
        {id:'a10', name:'Manteca mazola', price:1.75, img:'img/manteca mazola.png'},
        {id:'a11', name:'Margarina Mazola', price:1.50, img:'img/margarina mazola.png'},
        {id:'a12', name:'Frijoles la Chula', price:1.75, img:'img/frijoleschula35.png'},
        {id:'a13', name:'Azucar blanca 5lb', price:2.85, img:'img/azucar5blanca.png'},
        {id:'a14', name:'Azucar blanca 2lb', price:1.35, img:'img/azucar5blanca.png'},
        {id:'a15', name:'Azucar Morena 5lb', price:2.95, img:'img/azucarmorena5lb.png'},
        {id:'a16', name:'Azucar Morena 2lb', price:1.40, img:'img/morena2lb.png'},
        {id:'a17', name:'cafe Catador lb', price:3.50, img:'img/catador.png'},
        {id:'a18', name:'Capersal premiun pimienta lb', price:3.50, img:'img/capersalpimienta.png'},
        {id:'a19', name:'Capersal original lb', price:3.50, img:'img/capersaloriginal.png'},
        {id:'a20', name:'Cafe tradicional pimienta lb', price:3.50, img:'img/cafetradicional.png'},
        {id:'a21', name:'Cafe tradicional lb', price:3.50, img:'img/cafetradicionaloriginal.png'},
        {id:'a22', name:'Cafe listo 60s', price:3.50, img:'img/cafelisto60s.png'},
        {id:'a23', name:'Cafe Musun suave 60s', price:3.50, img:'img/musunsuave.png'},
        {id:'a24', name:'Cafe Musun Fuerte 60s', price:3.50, img:'img/musunfuerte.png'},
        {id:'a25', name:'Coscafe 40s', price:3.50, img:'img/coscafe.png'},
        {id:'a26', name:'Spaguetthi fama', price:3.50, img:'img/Australianlb.png'},
        {id:'a27', name:'Spaguetthi Do침a Blanca lb', price:3.50, img:'img/Australianlb.png'},
        {id:'a28', name:'Coditos fama', price:3.50, img:'img/Australianlb.png'},

      ],
      "LIMPIEZAS":[
        {id:'l2', name:'Cloro super pro 1lt', price:1.00 ,img:'img/cloro.jpg'},
        {id:'l9', name:'Detergente Ultraklin Morado', price:1.00, img:'img/detergente.jpg'},
        {id:'l10', name:'Detergente Ultraklin rojo', price:1.00, img:'img/cloro.jpg'},
        {id:'l3', name:'Detergente Ultraklin Azul ', price:1.00, img:'img/cloro.jpg'},
        {id:'l4', name:'Detergente Ultraklin verde', price:1.00, img:'img/ultraverde.jpg'},
        {id:'l5', name:'Detergente Ultraklin Naranja ', price:1.00, img:'img/cloro.jpg'},
        {id:'l6', name:'Xedex Frutos Rojos', price:1.00, img:'img/cloro.jpg'},
        {id:'l7', name:'Xedex Natural', price:1.00, img:'img/cloro.jpg'},
        {id:'l8', name:'Jabon max blanco', price:1.00, img:'img/cloro.jpg'},
        {id:'l9', name:'Jabon max rosa', price:1.00, img:'img/cloro.jpg'},
        {id:'l10', name:'Jabon max azul', price:1.00, img:'img/cloro.jpg'},
        {id:'l11', name:'Jabon max morado', price:1.00, img:'img/cloro.jpg'},
        {id:'l12', name:'Jabon max duo', price:1.00, img:'img/cloro.jpg'},
        {id:'l13', name:'Jabon extra blanco', price:1.00, img:'img/cloro.jpg'},
        {id:'l14', name:'Jabon extra Aloe', price:1.00, img:'img/cloro.jpg'},
        {id:'l15', name:'Jabon extra rosa', price:1.00, img:'img/cloro.jpg'},
        {id:'l16', name:'Jabon Zixx blanco', price:1.00, img:'img/cloro.jpg'},
        {id:'l17', name:'Jabon Zixx rosa', price:1.00, img:'img/cloro.jpg'},
        {id:'l18', name:'Jabon Zixx azul', price:1.00, img:'img/cloro.jpg'},
        {id:'l19', name:'Jabon Zixx avena', price:1.00, img:'img/cloro.jpg'},
        {id:'l20', name:'Jabon Zixx amarillo', price:1.00, img:'img/cloro.jpg'},


      ],
      "HIGUIENE PERSONAL":[
        {id:'h1', name:'Jab칩n de ba침o', price:0.80, img:'img/jabon.png'},
        {id:'h2', name:'Shampoo 500ml', price:2.50, img:'img/shampoo.png'}
      ],
      "SNACK":[
        {id:'s1', name:'Papas fritas', price:0.90, img:'img/papas.png'},
        {id:'s2', name:'Nachos', price:1.20, img:'img/nachos.png'}
      ],
      "GALLETAS":[
        {id:'g1', name:'Galletas de chocolate', price:1.50, img:'img/galletas.png'},
        {id:'g2', name:'Galletas saladas', price:1.20, img:'img/galletas_saladas.png'}
      ],
      "BEBIDAS":[
        {id:'b1', name:'Coca Cola 2.5', price:2.25, img:'img/gaseosa.png'},
        {id:'b8', name:'Coca Cola 1.5', price:1.25, img:'img/gaseosa.png'},
        {id:'b2', name:'Cascada Naranja 3l', price:1.75, img:'img/gaseosa.png'},
        {id:'b3', name:'Cascada Uva 3l', price:1.75, img:'img/gaseosa.png'},
        {id:'b4', name:'Cascada Kolashampan 3l', price:1.75, img:'img/gaseosa.png'},
        {id:'b5', name:'Cascada SalvaCola 3L', price:1.75, img:'img/jugo.png'},
        {id:'b6', name:'Cascada Fresa 3l ', price:1.75, img:'img/jugo.png'},
        {id:'b7', name:'Pepsi 3L', price:2.25, img:'img/jugo.png'},
        {id:'b8', name:'Pepsi', price:2.25, img:'img/jugo.png'},
      
      ],
      "CERVEZAS":[
       {id:'c9', name:'Michelo ultra 330ml', price:1.50, img:'img/jugo.png'},
       {id:'c1', name:'Pilsener 330ml', price:1.25, img:'img/gaseosa.png'},
        {id:'c2', name:'pilsener 450ml', price:1.55, img:'img/gaseosa.png'},
        {id:'c3', name:'modelo 330ml', price:1.75, img:'img/gaseosa.png'},
        {id:'c4', name:'golden 330ml', price:1.30, img:'img/gaseosa.png'},
        {id:'c5', name:'Golden Extra 330ml', price:1.35, img:'img/jugo.png'},
        {id:'c6', name:'Golden 440ml', price:1.60, img:'img/jugo.png'},
        {id:'c10', name:'Corona Extra Origial', price:1.75, img:'img/jugo.png'},
        {id:'c11', name:'Michelo Ultra 440ml', price:1.75, img:'img/jugo.png'},
        {id:'c12', name:'Modelo Special', price:2.00, img:'img/jugo.png'},
    
      ],

    },
    "Corinto-Centro":{
     "CANASTAS NAVIDE칌AS":[
        {id:'c1', name:'Canasta B치sica', price:12.00, img:'img/canasta1.png'},
        {id:'c2', name:'Canasta B치sica plus', price:15.00, img:'img/canasta1.png'},
        {id:'c3', name:'Canasta Gold', price:20.00, img:'img/canasta2.png'},
        {id:'c4', name:'Canasta Premium', price:25.00, img:'img/canasta3.png'},
        {id:'c5', name:'Canasta Select', price:30.00, img:'img/canasta1.png'},
        {id:'c6', name:'Canasta Deluxe', price:35.00, img:'img/canasta1.png'},
      ],
      
       "HUACALES":[
        {id:'H1', name:'Huacal #5(peque침o)', price:0.90, img:'img/..png'},
        {id:'h2', name:'Huacal #6(mediano)', price:1.25, img:'img/..png'},
        {id:'h3', name:'Huacal #7(grande)', price:1.75, img:'img/..png'},
       ],

    "ABARROTES":[
        {id:'a1', name:'Arroz san Pedro 4lb', price:3.50, img:'img/Arroz3.png'},
        {id:'a2', name:'Arroz san Pedro 1lb', price:0.85, img:'img/Arrozb1l.png'},
        {id:'a3', name:'Arroz san Pedro prec. 4lb', price:3.75, img:'img/preco4l.png'},
        {id:'a4', name:'Arroz san Pedro prec. 1lb', price:0.90, img:'img/preco1l.png'},
        {id:'a5', name:'Aceite mazola 700ml', price:2.25, img:'img/aceite.png'},
        {id:'a6', name:'Orisol Lihgt 700ml', price:2.50, img:'img/orisolliht.png'},
        {id:'a7', name:'Aceite Ideal Galon', price:10.50, img:'img/idealgalon.png'},
        {id:'a8', name:'Aceite Ideal 1/2 Galon', price:4.75, img:'img/idealmedio.png'},
        {id:'a8', name:'Manteca mazola', price:1.75, img:'img/manteca mazola.png'},
        {id:'a8', name:'Margarina Mazola', price:1.50, img:'img/margarina mazola.png'},
        {id:'a9', name:'Frijoles la Chula', price:1.75, img:'img/frijoleschula35.png'},
        {id:'a10', name:'Azucar blanca 5lb', price:2.85, img:'img/azucar5blanca.png'},
        {id:'a11', name:'Azucar blanca 2lb', price:1.35, img:'img/azucar5blanca.png'},
        {id:'a12', name:'Azucar Morena 5lb', price:2.95, img:'img/azucarmorena5lb.png'},
        {id:'a13', name:'Azucar Morena 2lb', price:1.40, img:'img/morena2lb.png'},
        {id:'a14', name:'cafe Catador lb', price:2.50, img:'img/catador.png'},
        {id:'a15', name:'Capersal premiun pimienta lb', price:3.85, img:'img/capersalpimienta.png'},
        {id:'a16', name:'Capersal original lb', price:3.85, img:'img/capersaloriginal.png'},
        {id:'a17', name:'Cafe tradicional pimienta lb', price:2.40, img:'img/cafetradicional.png'},
        {id:'a18', name:'Cafe tradicional lb', price:2.40, img:'img/cafetradicionaloriginal.png'},
        {id:'a19', name:'Cafe listo 60s', price:5.00, img:'img/cafelisto60s.png'},
        {id:'a20', name:'Cafe Musun suave 60s', price:4.50, img:'img/musunsuave.png'},
        {id:'a21', name:'Cafe Musun Fuerte 60s', price:4.50, img:'img/musunfuerte.png'},
        {id:'a22', name:'Coscafe 40s', price:3.25, img:'img/coscafe.png'},
        {id:'a23', name:'Spaguetthi fama', price:2.35, img:'img/Australianlb.png'},
        {id:'a24', name:'Spaguetthi Do침a Blanca lb', price:2.35, img:'img/Australianlb.png'},
        {id:'a25', name:'Coditos fama', price:0.60, img:'img/Australianlb.png'},

      ],
      
      "BEBIDAS":[
        {id:'b1', name:'Coca Cola 2.5', price:2.25, img:'img/gaseosa.png'},
        {id:'b2', name:'Fresca Toronja 2.5', price:2.25, img:'img/gaseosa.png'},
        {id:'b3', name:'Tropical Uva 2.5', price:2.25, img:'img/gaseosa.png'},
        {id:'b4', name:'Tropical Fresa 2.5', price:2.25, img:'img/gaseosa.png'},
        {id:'b5', name:'Pepsi 3L', price:2.25, img:'img/jugo.png'},
        {id:'b6', name:'Petip durazno 3L', price:2.25, img:'img/jugo.png'},
        {id:'b7', name:'Petit Limon 3l', price:2.25, img:'img/jugo.png'},
        {id:'b8', name:'petit Frambuesa', price:2.25, img:'img/jugo.png'},
        {id:'b9', name:'De la Granja 1/2 galon', price:3.00, img:'img/jugo.png'},
      ],

      "CERVEZAS":[
       {id:'c9', name:'michelo ultra 330ml', price:3.00, img:'img/jugo.png'},
       {id:'C1', name:'Pilsener 330ml', price:2.25, img:'img/gaseosa.png'},
       {id:'c2', name:'pilsener 450ml', price:2.25, img:'img/gaseosa.png'},
       {id:'c3', name:'modelo 330ml', price:2.25, img:'img/gaseosa.png'},
       {id:'c4', name:'golden 330ml', price:2.25, img:'img/gaseosa.png'},
       {id:'c5', name:'Golden Extra 330ml', price:2.25, img:'img/jugo.png'},
       {id:'c6', name:'Golden 440ml', price:2.25, img:'img/jugo.png'},
       {id:'c7', name:'Tecate 500ml', price:2.25, img:'img/jugo.png'},
       {id:'c8', name:'Miller draff', price:2.25, img:'img/jugo.png'},
       {id:'c10', name:'Corona Extra Origial', price:3.00, img:'img/jugo.png'},
       {id:'c11', name:'Michelo Ultra 440ml', price:3.00, img:'img/jugo.png'},
       {id:'c12', name:'Modelo Special', price:3.00, img:'img/jugo.png'},
       {id:'c13', name:'Heineken 440ml', price:3.00, img:'img/jugo.png'},
       {id:'c14', name:'four Loko', price:3.00, img:'img/jugo.png'},
      ],

       "VINOS Y LICORES":[
       {id:'v1', name:'Sangre de Toro', price:3.00, img:'img/jugo.png'},
       {id:'v2', name:'Sangre De Toro Reserva', price:2.25, img:'img/gaseosa.png'},
        {id:'v3', name:'Santa Elena ', price:2.25, img:'img/gaseosa.png'},
        {id:'v4', name:'Santa Elena Merlot', price:2.25, img:'img/gaseosa.png'},
        {id:'v5', name:'Casillero Del Diablo', price:2.25, img:'img/gaseosa.png'},
        {id:'v6', name:'Casillero Del Diablo', price:2.25, img:'img/jugo.png'},
        {id:'v7', name:'Santa Elena 4pack', price:2.25, img:'img/jugo.png'},
        {id:'v8', name:'Buchanan 10 a침os', price:2.25, img:'img/jugo.png'},
        {id:'v9', name:'Jack Danniels', price:2.25, img:'img/jugo.png'},
        {id:'v10', name:'Don Julio ', price:3.00, img:'img/jugo.png'},
        {id:'v11', name:'Chiva regals', price:3.00, img:'img/jugo.png'},
        {id:'v12', name:'black Cane', price:3.00, img:'img/jugo.png'},
        {id:'v13', name:'Red cane', price:3.00, img:'img/jugo.png'},
        {id:'v14', name:'Dos troika', price:3.00, img:'img/jugo.png'},
        {id:'v15', name:'Troika 1', price:3.00, img:'img/jugo.png'},
        {id:'v16', name:'Troika 2', price:3.00, img:'img/jugo.png'},
        {id:'v17', name:'Petrov', price:3.00, img:'img/jugo.png'},
        {id:'v18', name:'Trenzuda Tamarindo', price:3.00, img:'img/jugo.png'},
        {id:'v19', name:'Trenzuda Mango', price:3.00, img:'img/jugo.png'},
        {id:'v20', name:'Venado Lihgt', price:3.00, img:'img/jugo.png'},
        {id:'v21', name:'Venado Oro', price:3.00, img:'img/jugo.png'},      
      ],

      "LIMPIEZAS":[
        {id:'l2', name:'Cloro super pro 1lt', price:1.00 ,img:'img/cloro.jpg'},
        {id:'l9', name:'Detergente Ultraklin Morado', price:1.00, img:'img/detergente.jpg'},
        {id:'l10', name:'Detergente Ultraklin rojo', price:1.00, img:'img/cloro.jpg'},
        {id:'l3', name:'Detergente Ultraklin Azul ', price:1.00, img:'img/cloro.jpg'},
        {id:'l4', name:'Detergente Ultraklin verde', price:1.00, img:'img/ultraverde.jpg'},
        {id:'l5', name:'Detergente Ultraklin Naranja ', price:1.00, img:'img/cloro.jpg'},
        {id:'l6', name:'Xedex Frutos Rojos', price:1.15, img:'img/cloro.jpg'},
        {id:'l7', name:'Xedex Natural', price:1.10, img:'img/cloro.jpg'},
        {id:'l8', name:'Jabon max blanco', price:3.25, img:'img/cloro.jpg'},
        {id:'l9', name:'Jabon max rosa', price:3.25, img:'img/cloro.jpg'},
        {id:'l10', name:'Jabon max azul', price:3.25, img:'img/cloro.jpg'},
        {id:'l11', name:'Jabon max morado', price:3.25, img:'img/cloro.jpg'},
        {id:'l12', name:'Jabon max duo', price:3.40, img:'img/cloro.jpg'},
        {id:'l13', name:'Jabon extra blanco', price:2.95 ,img:'img/cloro.jpg'},
        {id:'l14', name:'Jabon extra Aloe', price:2.95, img:'img/cloro.jpg'},
        {id:'l15', name:'Jabon extra rosa', price:2.95, img:'img/cloro.jpg'},
        {id:'l16', name:'Jabon Zixx blanco', price:2.05, img:'img/cloro.jpg'},
        {id:'l17', name:'Jabon Zixx rosa', price:2.05, img:'img/cloro.jpg'},
        {id:'l18', name:'Jabon Zixx azul', price:3.05, img:'img/cloro.jpg'},
        {id:'l19', name:'Jabon Zixx avena', price:3.05, img:'img/cloro.jpg'},
        {id:'l20', name:'Jabon Zixx amarillo', price:3.05, img:'img/cloro.jpg'},


      ],
      "HIGUIENE PERSONAL":[
        {id:'h1', name:'Jab칩n de ba침o', price:0.85, img:'img/jabon.png'},
        {id:'h2', name:'Shampoo 500ml', price:2.60, img:'img/shampoo.png'},
         {id:'h2', name:'palmolive 200ml', price:1.50, img:'img/shampoo.png'},
      ],
      "SNACK":[
        {id:'s1', name:'Papas fritas', price:0.95, img:'img/papas.png'},
        {id:'s2', name:'Nachos', price:1.25, img:'img/nachos.png'}
      ],
      "GALLETAS":[
        {id:'g1', name:'Galletas de chocolate', price:1.60, img:'img/galletas.png'},
        {id:'g2', name:'Galletas saladas', price:1.25, img:'img/galletas_saladas.png'}
      ],
      

      "PROMOCIONES":[
        {id:'p1', name:'.', price: 0., img:'img/combo1.png'}
      ]
    },
    "Metap치n-Santa Ana": {
     "CANASTAS NAVIDE칌AS":[
        {id:'c1', name:'Canasta B치sica', price:12.00, img:'img/canasta1.png'},
       {id:'c2', name:'Canasta B치sica plus', price:15.00, img:'img/canasta1.png'},
        {id:'c3', name:'Canasta Gold', price:20.00, img:'img/canasta2.png'},
        {id:'c4', name:'Canasta Premium', price:25.00, img:'img/canasta3.png'},
        {id:'c5', name:'Canasta Select', price:30.00, img:'img/canasta1.png'},
        {id:'c6', name:'Canasta Deluxe', price:35.00, img:'img/canasta1.png'},
      ],
      
       "HUACALES":[
        {id:'H1', name:'Huacal #5(peque침o)', price:0.90, img:'img/..png'},
        {id:'h2', name:'Huacal #6(mediano)', price:1.25, img:'img/..png'},
        {id:'h3', name:'Huacal #7(grande)', price:1.75, img:'img/..png'},
       ],

     
      "ABARROTES":[
        {id:'a1', name:'Arroz san Pedro 4lb', price:3.50, img:'img/Arroz3.png'},
        {id:'a2', name:'Arroz san Pedro 1lb', price:0.85, img:'img/Arrozb1l.png'},
        {id:'a3', name:'Arroz san Pedro prec. 4lb', price:3.75, img:'img/preco4l.png'},
        {id:'a4', name:'Arroz san Pedro prec. 1lb', price:0.90, img:'img/preco1l.png'},
        {id:'a5', name:'Aceite mazola 700ml', price:2.25, img:'img/aceite.png'},
        {id:'a6', name:'Orisol Lihgt 700ml', price:2.50, img:'img/orisolliht.png'},
        {id:'a7', name:'Aceite Ideal Galon', price:10.50, img:'img/idealgalon.png'},
        {id:'a8', name:'Aceite Ideal 1/2 Galon', price:4.75, img:'img/idealmedio.png'},
        {id:'a9', name:'Frijoles la Chula', price:1.75, img:'img/frijoleschula35.png'},
        {id:'a10', name:'Azucar blanca 5lb', price:2.85, img:'img/azucar5blanca.png'},
        {id:'a11', name:'Azucar blanca 2lb', price:1.35, img:'img/azucar5blanca.png'},
        {id:'a12', name:'Azucar Morena 5lb', price:2.95, img:'img/azucarmorena5lb.png'},
        {id:'a13', name:'Azucar Morena 2lb', price:1.40, img:'img/morena2lb.png'},
        {id:'a14', name:'Leche Australian lb', price:3.50, img:'img/Australianlb.png'},
      ],
      "LIMPIEZAS":[
        {id:'l2', name:'Cloro super pro 1lt', price:1.00 ,img:'img/cloro.jpg'},
        {id:'l9', name:'Detergente Ultraklin Morado', price:1.00, img:'img/detergente.jpg'},
        {id:'l10', name:'Detergente Ultraklin rojo', price:1.00, img:'img/cloro.jpg'},
        {id:'l3', name:'Detergente Ultraklin Azul ', price:1.00, img:'img/cloro.jpg'},
        {id:'l4', name:'Detergente Ultraklin verde', price:1.00, img:'img/ultraverde.jpg'},
        {id:'l5', name:'Detergente Ultraklin Naranja ', price:1.00, img:'img/cloro.jpg'},
        {id:'l6', name:'Xedex Frutos Rojos', price:1.00, img:'img/cloro.jpg'},
        {id:'l7', name:'Xedex Natural', price:1.00, img:'img/cloro.jpg'},
        {id:'l8', name:'Rinso Original', price:1.00, img:'img/cloro.jpg'},
      ],
      "HIGUIENE PERSONAL":[
        {id:'h1', name:'Jab칩n de ba침o', price:0.82, img:'img/jabon.png'},
        {id:'h2', name:'Shampoo 500ml', price:2.55, img:'img/shampoo.png'}
      ],
      "SNACK":[
        {id:'s1', name:'Papas fritas', price:0.92, img:'img/papas.png'},
        {id:'s2', name:'Nachos', price:1.22, img:'img/nachos.png'}
      ],
      "GALLETAS":[
        {id:'g1', name:'Galletas de chocolate', price:1.55, img:'img/galletas.png'},
        {id:'g2', name:'Galletas saladas', price:1.22, img:'img/galletas_saladas.png'}
      ],
      "BEBIDAS":[
        {id:'b1', name:'Gaseosa 1lt', price:1.85, img:'img/gaseosa.png'},
        {id:'b2', name:'Jugo 1lt', price:1.52, img:'img/jugo.png'}
      ],
     
      "PROMOCIONES":[
        {id:'p1', name:'Combo Arroz + Frijoles', price:5.60, img:'img/combo1.png'}
      ]
    }
  };

  /* N칰meros por sucursal  */
  const NUMEROS = {
    "Los Fuentes-Corinto":"50363163274",
    "Corinto-Centro":"50370092996",
    "Metap치n-Santa Ana":"50370363867"
  };

  /* ========== Estado y refs DOM ========== */
  let cart = []; // {id,name,price,qty}
  let currentStore = "Los Fuentes-Corinto";
  let currentCategory = "CANASTAS NAVIDE칌AS";

  const categoriesContainer = document.getElementById('categories-container');
  const productsContainer = document.getElementById('products-container');
  const sucursalSelect = document.getElementById('sucursal');
  const tipoEntrega = document.getElementById('tipoEntrega');
  const cartCountEl = document.getElementById('cart-count');
  const cartTotalEl = document.getElementById('cart-total');
  const whatsappBtn = document.getElementById('whatsapp-btn');
  const infoDomicilio = document.getElementById('info-domicilio');
  const nombreInput = document.getElementById('cliente-nombre');
  const direccionInput = document.getElementById('cliente-direccion');
  const telefonoInput = document.getElementById('cliente-telefono');
  const modalBackdrop = document.getElementById('modal-backdrop');
  const modalCard = document.getElementById('modal-card');
  const modalContent = document.getElementById('modal-content');
  const modalBack = document.getElementById('modal-back');
  const modalSend = document.getElementById('modal-send');
  const btnCategorias = document.getElementById('btn-categorias');
  const buscador = document.getElementById('buscador');

  /* ========== localStorage helpers ========== */
  function saveCart() {
    try { localStorage.setItem('ms_cart', JSON.stringify({ store: currentStore, cart })); } catch(e) {}
  }
  function loadCart() {
    try {
      const raw = localStorage.getItem('ms_cart');
      if(!raw) return;
      const obj = JSON.parse(raw);
      if(obj && obj.store === currentStore && Array.isArray(obj.cart)) cart = obj.cart;
    } catch(e) { cart = []; }
  }

  /* ========== UI helpers ========== */
  function showToast(msg){
    const t = document.createElement('div'); t.className = 'toast'; t.textContent = msg;
    document.body.appendChild(t);
    setTimeout(()=> t.remove(), 1600);
  }

  function findProductById(id) {
    const STORE = STORES[currentStore];
    if(!STORE) return null;
    for(const cat of Object.keys(STORE)){
      const p = STORE[cat].find(x => x.id === id);
      if(p) return p;
    }
    return null;
  }

  /* ========== Render categories ========== */
  function renderCategories(store){
    const STORE = STORES[store];
    categoriesContainer.innerHTML = '';
    if(!STORE) return;
    Object.keys(STORE).forEach(cat => {
      const btn = document.createElement('button');
      btn.className = 'category-btn';
      btn.type = 'button';
      btn.textContent = cat;
      if(cat === currentCategory) btn.classList.add('active');
      btn.addEventListener('click', () => {
        currentCategory = cat;
        renderProducts(store, cat);
        document.querySelectorAll('.category-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        // hide panel (better UX on mobile)
        if(window.innerWidth < 480) {
          categoriesContainer.style.display = 'none';
          btnCategorias.setAttribute('aria-expanded','false');
          categoriesContainer.setAttribute('aria-hidden','true');
        }
      });
      categoriesContainer.appendChild(btn);
    });
  }

  /* ========== Render products ========== */
  function renderProducts(store, category){
    const STORE = STORES[store];
    productsContainer.innerHTML = '';
    if(!STORE) return;
    const list = category ? (STORE[category] || []) : [];
    list.forEach(p => {
      const qtyInCart = (cart.find(i => i.id === p.id) || {}).qty || 0;
      const div = document.createElement('div');
      div.className = 'product';
      div.innerHTML = `
        <img src="${p.img}" alt="${p.name}">
        <h4>${p.name}</h4>
        <p>$${p.price.toFixed(2)}</p>
        <div class="qty-control">
          <button data-id='${p.id}' class='dec-btn' aria-label="Disminuir">-</button>
          <span id='qty-${p.id}'>${qtyInCart}</span>
          <button data-id='${p.id}' class='inc-btn' aria-label="Aumentar">+</button>
        </div>
      `;
      productsContainer.appendChild(div);
    });
    productsContainer.querySelectorAll('.inc-btn').forEach(b => b.addEventListener('click', () => productQtyChange(b.dataset.id, 1)));
    productsContainer.querySelectorAll('.dec-btn').forEach(b => b.addEventListener('click', () => productQtyChange(b.dataset.id, -1)));
  }

  /* ========== Search across all categories ========== */
  buscador.addEventListener('input', e => {
    const term = e.target.value.trim().toLowerCase();
    if(!term) { renderProducts(currentStore, currentCategory); return; }
    const STORE = STORES[currentStore];
    const results = [];
    Object.values(STORE).forEach(cat => { cat.forEach(p => { if(p.name.toLowerCase().includes(term)) results.push(p); }); });
    renderSearchResults(results);
  });

  function renderSearchResults(results){
    productsContainer.innerHTML = '';
    if(!results.length) {
      productsContainer.innerHTML = `<div style="width:100%; text-align:center; color:#666; padding:20px;">No se encontraron productos</div>`;
      return;
    }
    results.forEach(p => {
      const qtyInCart = (cart.find(i => i.id === p.id) || {}).qty || 0;
      const div = document.createElement('div');
      div.className = 'product';
      div.innerHTML = `
        <img src="${p.img}" alt="${p.name}">
        <h4>${p.name}</h4>
        <p>$${p.price.toFixed(2)}</p>
        <div class="qty-control">
          <button data-id='${p.id}' class='dec-btn' aria-label="Disminuir">-</button>
          <span id='qty-${p.id}'>${qtyInCart}</span>
          <button data-id='${p.id}' class='inc-btn' aria-label="Aumentar">+</button>
        </div>
      `;
      productsContainer.appendChild(div);
    });
    productsContainer.querySelectorAll('.inc-btn').forEach(b => b.addEventListener('click', () => productQtyChange(b.dataset.id, 1)));
    productsContainer.querySelectorAll('.dec-btn').forEach(b => b.addEventListener('click', () => productQtyChange(b.dataset.id, -1)));
  }

  /* ========== Change product qty ========== */
  function productQtyChange(id, delta){
    const product = findProductById(id);
    if(!product) return;
    const span = document.getElementById(`qty-${id}`);
    if(!span) return;
    let qty = parseInt(span.textContent) || 0;
    qty += delta;
    if(qty < 0) qty = 0;
    span.textContent = qty;

    const idx = cart.findIndex(i => i.id === id);
    if(idx >= 0) {
      if(qty === 0) { cart.splice(idx,1); showToast(`${product.name} eliminado`); }
      else { cart[idx].qty = qty; showToast(`${product.name} x${qty}`); }
    } else {
      if(qty > 0) { cart.push({ id: product.id, name: product.name, price: product.price, qty }); showToast(`${product.name} agregado`); }
    }
    updateCartUI();
    saveCart();
  }

  /* ========== Update cart UI ========== */
  function updateCartUI(){
    let totalItems = 0, totalAmount = 0;
    cart.forEach(it => { totalItems += it.qty; totalAmount += it.qty * it.price; });
    cartCountEl.textContent = totalItems;
    cartTotalEl.textContent = '$' + totalAmount.toFixed(2);
  }

  /* ========== Toggle categories panel ========== */
  btnCategorias.addEventListener('click', () => {
    const shown = categoriesContainer.style.display === 'flex';
    categoriesContainer.style.display = shown ? 'none' : 'flex';
    btnCategorias.setAttribute('aria-expanded', String(!shown));
    categoriesContainer.setAttribute('aria-hidden', String(shown));
    if(!shown) renderCategories(currentStore);
  });

  /* ========== Sucursal change ========== */
  sucursalSelect.addEventListener('change', () => {
    currentStore = sucursalSelect.value;
    cart = []; // reset cart on store change (you wanted this behavior earlier)
    saveCart();
    updateCartUI();
    categoriesContainer.style.display = 'none';
    btnCategorias.setAttribute('aria-expanded','false');
    categoriesContainer.setAttribute('aria-hidden','true');
    const firstCat = Object.keys(STORES[currentStore] || {})[0] || '';
    currentCategory = firstCat;
    if(firstCat) renderProducts(currentStore, firstCat);
    renderCategories(currentStore);
  });

  /* ========== Tipo de entrega ========== */
  tipoEntrega.addEventListener('change', () => {
    const show = tipoEntrega.value === 'Domicilio';
    infoDomicilio.style.display = show ? 'block' : 'none';
    infoDomicilio.setAttribute('aria-hidden', show ? 'false' : 'true');
  });

  /* ========== Modal & WhatsApp (wa.me) ========== */
  whatsappBtn.addEventListener('click', () => {
    if(cart.length === 0) { alert('El carrito est치 vac칤o'); return; }
    if(tipoEntrega.value === 'Domicilio') {
      if(!nombreInput.value.trim() || !direccionInput.value.trim() || !telefonoInput.value.trim()) {
        alert('Por favor ingrese nombre, direcci칩n y tel칠fono para el domicilio.');
        return;
      }
    }

    // Build modal content
    modalContent.innerHTML = `<div style="margin-bottom:8px;"><strong>Sucursal:</strong> ${currentStore}</div>`;
    modalContent.innerHTML += `<div style="margin-bottom:8px;"><strong>Tipo de entrega:</strong> ${tipoEntrega.value}</div>`;
    if(tipoEntrega.value === 'Domicilio') {
      modalContent.innerHTML += `<div style="margin-bottom:8px;"><strong>Nombre:</strong> ${nombreInput.value.trim()}</div>`;
      modalContent.innerHTML += `<div style="margin-bottom:8px;"><strong>Direcci칩n:</strong> ${direccionInput.value.trim()}</div>`;
      modalContent.innerHTML += `<div style="margin-bottom:8px;"><strong>Tel칠fono:</strong> ${telefonoInput.value.trim()}</div>`;
    }
    modalContent.innerHTML += `<hr/><div style="max-height:260px; overflow:auto; margin-top:8px;">`;
    let total = 0;
    cart.forEach(it => {
      modalContent.innerHTML += `<div style="display:flex; justify-content:space-between; padding:6px 0;"><div>${it.qty} x ${it.name}</div><div>$${(it.price*it.qty).toFixed(2)}</div></div>`;
      total += it.qty * it.price;
    });
    modalContent.innerHTML += `</div><hr/><div style="display:flex; justify-content:space-between; font-weight:700; margin-top:8px;"><div>Total</div><div>$${total.toFixed(2)}</div></div>`;

    // Show modal (only closed by Volver)
    modalBackdrop.classList.add('show');
    modalBackdrop.setAttribute('aria-hidden','false');
    modalCard.classList.add('show');
  });

  // Modal Volver (only way to close)
  modalBack.addEventListener('click', () => {
    modalCard.classList.remove('show');
    modalBackdrop.classList.remove('show');
    modalBackdrop.setAttribute('aria-hidden','true');
  });

  // Send via wa.me - choose number based on selected store
  modalSend.addEventListener('click', () => {
    const numero = NUMEROS[currentStore];
    if(!numero) { alert('N칰mero de sucursal no configurado'); return; }

    let wa = `Hola MINI SUPER TO칌ITA 游녦 Quiero compartir mi pedido\nSucursal: ${currentStore}\nTipo de entrega: ${tipoEntrega.value}\n\nPedido:\n`;
    let total = 0;
    cart.forEach(it => {
      wa += `${it.qty} x ${it.name} - $${(it.price*it.qty).toFixed(2)}\n`;
      total += it.qty * it.price;
    });
    wa += `\nTotal: $${total.toFixed(2)}\n`;
    if(tipoEntrega.value === 'Domicilio') {
      wa += `\nNombre: ${nombreInput.value.trim()}\nDirecci칩n: ${direccionInput.value.trim()}\nTel칠fono: ${telefonoInput.value.trim()}\n`;
    }
    wa += `\nGracias 游땕`;

    const url = `https://wa.me/${numero}?text=${encodeURIComponent(wa)}`;
    window.open(url, '_blank');

    // Clear cart and UI
    cart = [];
    saveCart();
    updateCartUI();
    document.querySelectorAll('[id^="qty-"]').forEach(s => s.textContent = '0');

    modalCard.classList.remove('show');
    modalBackdrop.classList.remove('show');
    modalBackdrop.setAttribute('aria-hidden','true');
  });

  /* ========== Init ========== */
  sucursalSelect.value = "Los Fuentes-Corinto";
  currentStore = "Los Fuentes-Corinto";
  loadCart();
  renderCategories(currentStore);
  renderProducts(currentStore, currentCategory);
  updateCartUI();

  /* Accessibility nicety: close category list if click outside (desktop) */
  document.addEventListener('click', (e) => {
    const inside = categoriesContainer.contains(e.target) || btnCategorias.contains(e.target);
    if(!inside && window.innerWidth > 480) {
      categoriesContainer.style.display = 'none';
      btnCategorias.setAttribute('aria-expanded','false');
      categoriesContainer.setAttribute('aria-hidden','true');
    }
  });

});
</script>
</body>
</html>
